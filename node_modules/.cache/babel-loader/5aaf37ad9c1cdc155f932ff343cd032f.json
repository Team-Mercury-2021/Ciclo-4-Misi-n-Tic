{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Laura\\\\Desktop\\\\Team Mercury\\\\Ciclo-4-MisionTIC\\\\src\\\\pages\\\\usuarios\\\\EditarUsuario.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from 'react';\nimport { useParams, Link } from 'react-router-dom';\nimport { useQuery, useMutation } from '@apollo/client';\nimport Input from 'components/Input';\nimport ButtonLoading from 'components/ButtonLoading';\nimport useFormData from 'hooks/useFormData';\nimport { toast } from 'react-toastify';\nimport { EDITAR_USUARIO } from 'graphql/usuarios/mutations';\nimport DropDown from 'components/Dropdown';\nimport { Enum_EstadoUsuario } from 'utils/enum';\nimport { GET_USER } from 'graphql/usuarios/queries';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst EditarUsuario = () => {\n  _s();\n\n  const {\n    form,\n    formData,\n    updateFormData\n  } = useFormData(null);\n  const {\n    _id\n  } = useParams();\n  const {\n    data: queryData,\n    error: queryError,\n    loading: queryLoading\n  } = useQuery(GET_USER, {\n    variables: {\n      _id\n    }\n  });\n  console.log(queryData);\n  const [editarUsuario, {\n    data: mutationData,\n    loading: mutationLoading,\n    error: mutationError\n  }] = useMutation(EDITAR_USUARIO);\n\n  const submitForm = e => {\n    e.preventDefault();\n    console.log('fd', formData);\n    delete formData.rol;\n    editarUsuario({\n      variables: {\n        _id,\n        ...formData\n      }\n    });\n  };\n\n  useEffect(() => {\n    if (mutationData) {\n      toast.success('Usuario modificado correctamente');\n    }\n  }, [mutationData]);\n  useEffect(() => {\n    if (mutationError) {\n      toast.error('Error modificando el usuario');\n    }\n\n    if (queryError) {\n      toast.error('Error consultando el usuario');\n    }\n  }, [queryError, mutationError]);\n  if (queryLoading) return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"Cargando....\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 28\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flew flex-col w-full h-full items-center justify-center p-10\",\n    children: [/*#__PURE__*/_jsxDEV(Link, {\n      to: \"/usuarios\",\n      children: /*#__PURE__*/_jsxDEV(\"i\", {\n        className: \"fas fa-arrow-left text-gray-600 cursor-pointer font-bold text-xl hover:text-gray-900\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"m-4 text-3xl text-gray-800 font-bold text-center\",\n      children: \"Editar Usuario\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: submitForm,\n      onChange: updateFormData,\n      ref: form,\n      className: \"flex flex-col items-center justify-center\",\n      children: [/*#__PURE__*/_jsxDEV(Input, {\n        label: \"Nombre de la persona:\",\n        type: \"text\",\n        name: \"nombre\",\n        defaultValue: queryData.Usuario.nombre,\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Input, {\n        label: \"Apellido de la persona:\",\n        type: \"text\",\n        name: \"apellido\",\n        defaultValue: queryData.Usuario.apellido,\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Input, {\n        label: \"Correo de la persona:\",\n        type: \"email\",\n        name: \"correo\",\n        defaultValue: queryData.Usuario.correo,\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Input, {\n        label: \"Identificaci\\xF3n de la persona:\",\n        type: \"text\",\n        name: \"identificacion\",\n        defaultValue: queryData.Usuario.identificacion,\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DropDown, {\n        label: \"Estado de la persona:\",\n        name: \"estado\",\n        defaultValue: queryData.Usuario.estado,\n        required: true,\n        options: Enum_EstadoUsuario\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: [\"Rol del usuario: \", queryData.Usuario.rol]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ButtonLoading, {\n        disabled: Object.keys(formData).length === 0,\n        loading: mutationLoading,\n        text: \"Confirmar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 5\n  }, this);\n};\n\n_s(EditarUsuario, \"oKEWMQ+bhDeRScsaz/72a1UvQPE=\", false, function () {\n  return [useFormData, useParams, useQuery, useMutation];\n});\n\n_c = EditarUsuario;\nexport default EditarUsuario;\n\nvar _c;\n\n$RefreshReg$(_c, \"EditarUsuario\");","map":{"version":3,"sources":["C:/Users/Laura/Desktop/Team Mercury/Ciclo-4-MisionTIC/src/pages/usuarios/EditarUsuario.jsx"],"names":["React","useEffect","useParams","Link","useQuery","useMutation","Input","ButtonLoading","useFormData","toast","EDITAR_USUARIO","DropDown","Enum_EstadoUsuario","GET_USER","EditarUsuario","form","formData","updateFormData","_id","data","queryData","error","queryError","loading","queryLoading","variables","console","log","editarUsuario","mutationData","mutationLoading","mutationError","submitForm","e","preventDefault","rol","success","Usuario","nombre","apellido","correo","identificacion","estado","Object","keys","length"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react';\r\nimport { useParams, Link } from 'react-router-dom';\r\nimport { useQuery, useMutation } from '@apollo/client';\r\nimport Input from 'components/Input';\r\nimport ButtonLoading from 'components/ButtonLoading';\r\nimport useFormData from 'hooks/useFormData';\r\nimport { toast } from 'react-toastify';\r\nimport { EDITAR_USUARIO } from 'graphql/usuarios/mutations';\r\nimport DropDown from 'components/Dropdown';\r\nimport { Enum_EstadoUsuario } from 'utils/enum';\r\nimport { GET_USER } from 'graphql/usuarios/queries';\r\n\r\nconst EditarUsuario = () => {\r\n  const { form, formData, updateFormData } = useFormData(null);\r\n  const { _id } = useParams();\r\n\r\n  const {\r\n    data: queryData,\r\n    error: queryError,\r\n    loading: queryLoading,\r\n  } = useQuery(GET_USER, {\r\n    variables: { _id },\r\n  });\r\n\r\n  console.log(queryData);\r\n\r\n  const [editarUsuario, { data: mutationData, loading: mutationLoading, error: mutationError }] =\r\n    useMutation(EDITAR_USUARIO);\r\n\r\n  const submitForm = (e) => {\r\n    e.preventDefault();\r\n    console.log('fd', formData);\r\n    delete formData.rol;\r\n    editarUsuario({\r\n      variables: { _id, ...formData },\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (mutationData) {\r\n      toast.success('Usuario modificado correctamente');\r\n    }\r\n  }, [mutationData]);\r\n\r\n  useEffect(() => {\r\n    if (mutationError) {\r\n      toast.error('Error modificando el usuario');\r\n    }\r\n\r\n    if (queryError) {\r\n      toast.error('Error consultando el usuario');\r\n    }\r\n  }, [queryError, mutationError]);\r\n\r\n  if (queryLoading) return <div>Cargando....</div>;\r\n\r\n  return (\r\n    <div className='flew flex-col w-full h-full items-center justify-center p-10'>\r\n      <Link to='/usuarios'>\r\n        <i className='fas fa-arrow-left text-gray-600 cursor-pointer font-bold text-xl hover:text-gray-900' />\r\n      </Link>\r\n      <h1 className='m-4 text-3xl text-gray-800 font-bold text-center'>Editar Usuario</h1>\r\n      <form\r\n        onSubmit={submitForm}\r\n        onChange={updateFormData}\r\n        ref={form}\r\n        className='flex flex-col items-center justify-center'\r\n      >\r\n        <Input\r\n          label='Nombre de la persona:'\r\n          type='text'\r\n          name='nombre'\r\n          defaultValue={queryData.Usuario.nombre}\r\n          required={true}\r\n        />\r\n        <Input\r\n          label='Apellido de la persona:'\r\n          type='text'\r\n          name='apellido'\r\n          defaultValue={queryData.Usuario.apellido}\r\n          required={true}\r\n        />\r\n        <Input\r\n          label='Correo de la persona:'\r\n          type='email'\r\n          name='correo'\r\n          defaultValue={queryData.Usuario.correo}\r\n          required={true}\r\n        />\r\n        <Input\r\n          label='Identificación de la persona:'\r\n          type='text'\r\n          name='identificacion'\r\n          defaultValue={queryData.Usuario.identificacion}\r\n          required={true}\r\n        />\r\n        <DropDown\r\n          label='Estado de la persona:'\r\n          name='estado'\r\n          defaultValue={queryData.Usuario.estado}\r\n          required={true}\r\n          options={Enum_EstadoUsuario}\r\n        />\r\n        <span>Rol del usuario: {queryData.Usuario.rol}</span>\r\n        <ButtonLoading\r\n          disabled={Object.keys(formData).length === 0}\r\n          loading={mutationLoading}\r\n          text='Confirmar'\r\n        />\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default EditarUsuario;"]},"metadata":{},"sourceType":"module"}